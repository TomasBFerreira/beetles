{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .family-tree {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .parents {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-right: 20px;  
        }

        .beetle {
            width: 160px;
            height: 80px;
            background-color: #7cb342; 
            border-radius: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            margin: 10px;
            padding: 10px;
        }

        .connector {
            width: 2px;
            background-color: #7cb342; 
            height: 50px; 
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
        }

        .children {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-left: 20px; 
        }
    </style>
{% endblock %}

{% block content %}
    <h1>Family Tree</h1>

    <div class="family-tree">
        {% for relationship in relationships %}
            <div class="parents">
                <div class="beetle">
                    {{ relationship.getFather().getName() }} & {{ relationship.getMother().getName()}}
                    {% if relationship.getChildren() is not empty %}
                        <div class="connector"></div>
                    {% endif %}
                </div>
                {% if relationship.getChildren() is not empty %}
                    <div class="children">
                        {% for child in relationship.getChildren() %}                        
                            <div class="beetle">        
                                {{ child.getName() }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    </div>
{% endblock %}
